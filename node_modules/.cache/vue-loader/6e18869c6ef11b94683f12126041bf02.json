{"remainingRequest":"/Users/andresgarciamacias/Documents/clothesTinder/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/andresgarciamacias/Documents/clothesTinder/src/App.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/andresgarciamacias/Documents/clothesTinder/src/App.vue","mtime":1595779143862},{"path":"/Users/andresgarciamacias/Documents/clothesTinder/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/andresgarciamacias/Documents/clothesTinder/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/andresgarciamacias/Documents/clothesTinder/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/andresgarciamacias/Documents/clothesTinder/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/andresgarciamacias/Documents/clothesTinder/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFNpZGViYXIgZnJvbSAnQC9sYXlvdXRzL3NpZGViYXIudnVlJzsKaW1wb3J0IENvb2tpZXMgZnJvbSAnQC9zZXJ2aWNlcy9jb29raWVzJzsKCmV4cG9ydCBkZWZhdWx0IFZ1ZS5leHRlbmQoewogIG5hbWU6ICdBcHAnLAoKICBjb21wb25lbnRzOiB7CiAgICBTaWRlYmFyLAogIH0sCgogIG1ldGFJbmZvKCkgewogICAgICByZXR1cm4geyAKICAgICAgICAgIHRpdGxlOiAiUGljayBhIExvb2siLAogICAgICAgICAgbWV0YTogWwogICAgICAgICAgICAgIHsgbmFtZTogJ2Rlc2NyaXB0aW9uJywgY29udGVudDogICdFbmN1ZW50cmEgcHJlbmRhcyBkZSB0dSBlc3RpbG8gcXVlIHRvZGF2aWEgbm8gY29ub2NlcyB5IGFsIG1lam9yIHByZWNpbyd9LAogICAgICAgICAgICAgIHsgcHJvcGVydHk6ICdvZzp0aXRsZScsIGNvbnRlbnQ6ICJQaWNrIGEgTG9vayJ9LAogICAgICAgICAgICAgIHsgcHJvcGVydHk6ICdvZzpzaXRlX25hbWUnLCBjb250ZW50OiAnUGljayBhIExvb2snfSwKICAgICAgICAgICAgICB7cHJvcGVydHk6ICdvZzp0eXBlJywgY29udGVudDogJ3dlYnNpdGUnfSwgICAgCiAgICAgICAgICBdCiAgICAgIH0KICB9LAoKICBkYXRhOiAoKSA9PiAoewogICAgZHJhd2VyOiBmYWxzZSwKICB9KSwKCiAgY29tcHV0ZWQ6IHsKICAgIGxvZ2dlZCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmF1dGgubG9nZ2VkOwogICAgfSwKICAgIGVtYWlsKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuYXV0aC51c2VyLmVtYWlsCiAgICB9LAogIH0sCgogIGFzeW5jIG1vdW50ZWQoKSB7CiAgICBjb25zb2xlLmxvZyhDb29raWVzLmdldENvb2tpZSgiY291bnRyeSIpKQogICAgaWYgKENvb2tpZXMuZ2V0Q29va2llKCJjb3VudHJ5IikgPT0gIiIpIHsKICAgICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vaXBhcGkuY28vanNvbi8nKQogICAgICBsZXQgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKICAgICAgQ29va2llcy5zZXRDb29raWUoImNvdW50cnkiLCBkYXRhLmNvdW50cnksIDM2NSkKICAgIH0KCiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2F1dGgvc2V0Q291bnRyeScsIENvb2tpZXMuZ2V0Q29va2llKCJjb3VudHJ5IikpCiAgICAKICAgIGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdhdXRoL2NoZWNrTG9nZ2VkJykKCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JlaW5zdGFsbHByb21wdCcsIChlKSA9PiB7CiAgICAgIC8vIFByZXZlbnQgdGhlIG1pbmktaW5mb2JhciBmcm9tIGFwcGVhcmluZyBvbiBtb2JpbGUKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAvLyBTdGFzaCB0aGUgZXZlbnQgc28gaXQgY2FuIGJlIHRyaWdnZXJlZCBsYXRlci4KICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuZGVmZXJyZWRQcm9tcHQgPSBlOwogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5hcHBOb3RJbnN0YWxsZWQgPSB0cnVlOwogICAgfSk7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYXBwaW5zdGFsbGVkJywgKGV2dCkgPT4gewogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5hcHBOb3RJbnN0YWxsZWQgPSBmYWxzZTsKICAgIH0pOwogIH0sCgogIG1ldGhvZHM6IHsKCiAgICBsb2dvdXQoKSA6IHZvaWQgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnYXV0aC9sb2dvdXQnKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goe25hbWU6ICdIb21lJ30pCiAgICB9LAoKICAgIGRvd25sb2FkQXBwKCkgewogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5kZWZlcnJlZFByb21wdC5wcm9tcHQoKTsKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuZGVmZXJyZWRQcm9tcHQudXNlckNob2ljZS50aGVuKChjaG9pY2VSZXN1bHQpID0+IHsKICAgICAgICBpZiAoY2hvaWNlUmVzdWx0Lm91dGNvbWUgPT09ICdhY2NlcHRlZCcpIHsKICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmFwcE5vdEluc3RhbGxlZCA9IGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5hcHBOb3RJbnN0YWxsZWQgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CgogIH0sCn0pOwo="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template lang=\"pug\">\n  v-app#app\n    .mt-4\n      v-layout.px-6(v-if=\"!$vuetify.breakpoint.mdAndUp\", :justify-space-between=\"logged\", :justify-center=\"!logged\", align-center)\n        v-btn(icon, large, @click=\"drawer = !drawer\", v-if=\"logged\")\n          v-icon(color=\"black\") fas fa-bars\n        v-btn(icon, @click=\"$router.push({name: 'Home'})\")\n          img.ml-4(src=\"./assets/LogoSquare.svg\", style=\"height: 40px\")\n        v-menu(offset-y, v-if=\"email\")\n          template(v-slot:activator=\"{on}\")\n            div(style=\"border: 3px solid #1c1c1c; border-radius: 50%\", v-on=\"on\")\n              v-avatar(color=\"#f50057\", :size=\"36\", v-ripple)\n                .font-weight-bold {{email[0].toUpperCase()}}\n          v-list\n            v-list-item(@click=\"logout\")\n              div $t(\"logout\")\n            v-list-item(@click=\"downloadApp\")\n              v-icon.hookle--text fas fa-arrow-circle-down\n              .ml-2.hookle--text $t(\"downloadApp\")\n    v-content\n      v-layout\n        v-flex(xs3, v-if=\"$vuetify.breakpoint.mdAndUp\")\n          sidebar\n        v-flex(xs12, md9)\n          router-view\n    v-navigation-drawer(v-if=\"!$vuetify.breakpoint.mdAndUp\", v-model=\"drawer\", width=\"300\", absolute, style=\"z-index: 20\")\n      sidebar\n\n</template>\n\n<script lang=\"ts\">\nimport Vue from 'vue';\nimport Sidebar from '@/layouts/sidebar.vue';\nimport Cookies from '@/services/cookies';\n\nexport default Vue.extend({\n  name: 'App',\n\n  components: {\n    Sidebar,\n  },\n\n  metaInfo() {\n      return { \n          title: \"Pick a Look\",\n          meta: [\n              { name: 'description', content:  'Encuentra prendas de tu estilo que todavia no conoces y al mejor precio'},\n              { property: 'og:title', content: \"Pick a Look\"},\n              { property: 'og:site_name', content: 'Pick a Look'},\n              {property: 'og:type', content: 'website'},    \n          ]\n      }\n  },\n\n  data: () => ({\n    drawer: false,\n  }),\n\n  computed: {\n    logged() {\n      return this.$store.state.auth.logged;\n    },\n    email() {\n      return this.$store.state.auth.user.email\n    },\n  },\n\n  async mounted() {\n    console.log(Cookies.getCookie(\"country\"))\n    if (Cookies.getCookie(\"country\") == \"\") {\n      let response = await fetch('https://ipapi.co/json/')\n      let data = await response.json();\n      Cookies.setCookie(\"country\", data.country, 365)\n    }\n\n    this.$store.commit('auth/setCountry', Cookies.getCookie(\"country\"))\n    \n    await this.$store.dispatch('auth/checkLogged')\n\n    window.addEventListener('beforeinstallprompt', (e) => {\n      // Prevent the mini-infobar from appearing on mobile\n      e.preventDefault();\n      // Stash the event so it can be triggered later.\n      this.$store.state.deferredPrompt = e;\n      this.$store.state.appNotInstalled = true;\n    });\n    window.addEventListener('appinstalled', (evt) => {\n      this.$store.state.appNotInstalled = false;\n    });\n  },\n\n  methods: {\n\n    logout() : void {\n      this.$store.dispatch('auth/logout');\n      this.$router.push({name: 'Home'})\n    },\n\n    downloadApp() {\n      this.$store.state.deferredPrompt.prompt();\n      this.$store.state.deferredPrompt.userChoice.then((choiceResult) => {\n        if (choiceResult.outcome === 'accepted') {\n          this.$store.state.appNotInstalled = false;\n        } else {\n          this.$store.state.appNotInstalled = true;\n        }\n      });\n    }\n\n  },\n});\n</script>\n\n<style lang=\"scss\">\n  @import \"./styles/mixins.scss\";\n  @import \"./styles/typography.scss\";\n  @import \"./styles/index.scss\";\n\n  #app {\n    text-align: center;\n  }\n\n  .pointer {\n    cursor: pointer;\n  }\n</style>\n"]}]}